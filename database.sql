CREATE TABLE AADHAR
(
    AADHAR_NO CHAR(12) PRIMARY KEY,
    FNAME VARCHAR(50) NOT NULL,
    LNAME VARCHAR(50) NOT NULL,
    PHONE CHAR(13) NOT NULL,
    DOB DATE NOT NULL
);

INSERT INTO AADHAR
VALUES('123456789101', 'SAMPATH', 'ROUTU', '+918106995381', '2002-02-26');
INSERT INTO AADHAR
VALUES('123456789102', 'PRATHYUSHA', 'REDDY', '+918688850217', '2002-02-14');
INSERT INTO AADHAR
VALUES('123456789103', 'RUPESH', 'YADAV', '+919519442770', '2002-02-10');
INSERT INTO AADHAR
VALUES('123456789104', 'Nyac', 'Lee', '+917569600903', '1988-03-13');
INSERT INTO AADHAR
VALUES('104090162616', 'Flynn', 'Pierce', '+918106995381', '1986-03-13');
INSERT INTO AADHAR
VALUES('846170641127', 'Micah', 'Olson', '+918106995381', '1962-10-02');
INSERT INTO AADHAR
VALUES('514776014729', 'Ferdinand', 'Green', '+918106995381', '1971-09-10');
INSERT INTO AADHAR
VALUES('238540494438', 'Brenda', 'Ortega', '+918106995381', '1979-09-15');
INSERT INTO AADHAR
VALUES('744394350722', 'Kaseem', 'Horne', '+918106995381', '1990-01-11');
INSERT INTO AADHAR
VALUES('419766353699', 'Porter', 'Logan', '+918106995381', '1989-07-06');
INSERT INTO AADHAR
VALUES('888393792963', 'Elijah', 'Sullivan', '+918106995381', '1975-04-05');
INSERT INTO AADHAR
VALUES('315827941273', 'Roary', 'Alford', '+918106995381', '1988-04-12');
INSERT INTO AADHAR
VALUES('485950039788', 'Stella', 'Holden', '+918106995381', '1961-04-24');
INSERT INTO AADHAR
VALUES('656117021649', 'Shelley', 'Lowe', '+918106995381', '1984-11-19');
INSERT INTO AADHAR
VALUES('654146610890', 'Cedric', 'Stevens', '+918106995381', '1983-01-21');
INSERT INTO AADHAR
VALUES('225917328789', 'Nina', 'Acevedo', '+918106995381', '1986-09-27');


CREATE TABLE REGISTER
(
    AADHAR_NO CHAR(12) PRIMARY KEY,
    ZONE_ID VARCHAR(5),
    VOTE_STATUS CHAR(1) NOT NULL,
    FOREIGN KEY (AADHAR_NO) REFERENCES AADHAR(AADHAR_NO)
);

CREATE TABLE PARTY
(
    PARTY_ID VARCHAR(3) PRIMARY KEY,
    PARTY_NAME VARCHAR(30),
    PARTY_SYMBOL VARCHAR(200)
);

INSERT INTO PARTY
VALUES
    ('P01', 'NORTH', 'https://webstockreview.net/images600_/clipart-design-square-1.png');
INSERT INTO PARTY
VALUES
    ('P02', 'SOUTH', 'https://webstockreview.net/images250_/clipart-design-square-17.png');


CREATE TABLE CAND
(
    CAND_ID VARCHAR(3) PRIMARY KEY,
    CAND_AADHAR VARCHAR(12),
    PARTY_ID VARCHAR(3),
    ZONE_ID VARCHAR(5),
    CAND_IMG VARCHAR(200),
    FOREIGN KEY (CAND_AADHAR) REFERENCES AADHAR(AADHAR_NO),
    FOREIGN KEY (PARTY_ID) REFERENCES PARTY(PARTY_ID)
);

INSERT INTO CAND
VALUES
    ('C01', '104090162616', 'P01', '101', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C02', '846170641127', 'P02', '101', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C03', '514776014729', 'P01', '102', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C04', '238540494438', 'P02', '102', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C05', '744394350722', 'P01', '201', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C06', '419766353699', 'P02', '201', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C07', '888393792963', 'P01', '202', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C08', '315827941273', 'P02', '202', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C09', '485950039788', 'P01', '100', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C10', '656117021649', 'P02', '100', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C11', '654146610890', 'P01', '200', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');
INSERT INTO CAND
VALUES
    ('C12', '225917328789', 'P02', '200', 'https://assets.dryicons.com/uploads/icon/svg/8841/63a0a827-681d-4160-963c-efdbdbfc0c46.svg ');

ALTER TABLE CAND ADD VOTES INTEGER;
UPDATE CAND
SET VOTES = 0;

CREATE TABLE LOC_DIS
(
    LOC VARCHAR(5) PRIMARY KEY,
    DIS VARCHAR(5)
);

INSERT INTO LOC_DIS
VALUES
    ('101', '100');
INSERT INTO LOC_DIS
VALUES
    ('102', '100');
INSERT INTO LOC_DIS
VALUES
    ('201', '200');
INSERT INTO LOC_DIS
VALUES
    ('202', '200');

CREATE TABLE ADMINS
(
    AADHAR_NO CHAR(12) PRIMARY KEY,
    FOREIGN KEY (AADHAR_NO) REFERENCES AADHAR(AADHAR_NO)
);

INSERT INTO ADMINS
VALUES
    ('123456789104');



CREATE TABLE FEEDBACKS
(
    AADHAR_NO CHAR(12) PRIMARY KEY,
    FEEDBACK VARCHAR(1000),
    GIVEN INTEGER DEFAULT 0
);


CREATE EXTENSION pgcrypto;
CREATE TABLE PASS_CRED
(
    AADHAR_NO CHAR(12) PRIMARY KEY,
    PASSWORD VARCHAR(100) NOT NULL,
    FOREIGN KEY (AADHAR_NO) REFERENCES AADHAR(AADHAR_NO)
)

INSERT INTO PASS_CRED
VALUES('123456789101', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('123456789104', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('104090162616', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('846170641127', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('514776014729', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('238540494438', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('744394350722', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('419766353699', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('888393792963', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('315827941273', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('485950039788', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('656117021649', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('654146610890', crypt('password', gen_salt('bf')));
INSERT INTO PASS_CRED
VALUES('225917328789', crypt('password', gen_salt('bf')));



SELECT AADHAR_NO FROM PASS_CRED WHERE AADHAR_NO = '123456789101' AND password = crypt('password', password);